#import pyximport
#pyximport.install(reload_support=True)

from IPython import get_ipython
ipython = get_ipython()

import numpy as np
import trace
import dtw
import cdtw
import cdtw_window

x = np.array(trace.data[0:70])
xs = np.array([[x,x]])
y = np.array(trace.data[0:70])
ys = np.array([y,y])
#
#import time
#a = time.time()
#D,d = cdtw.dtw(x,y)
#b = time.time()
#b - a
#d = cdtw.dtw_unbound(x,y)
distU,DU = cdtw.dtw_unbound(x,y)

distB,DB, _trackeback = cdtw.dtw_bound(x,y,mp=.4)


#%timeit -n2 -r3 cdtw.dtw(x,y)
#%timeit -n2 -r3 dtw.dtw(x,y)
#D = cdtw.window(x[80:150],y)

#dists = cdtw_window.compute_similarity(xs,ys)
import cdtw_window
train = np.array([ -2.08008619e+02,  -7.64264322e+01,   2.45767851e+01,
         3.35988164e+00,  -5.49476614e+01,   8.18398420e+00,
         7.57698986e+01,   4.24065775e+01,   9.81242163e+01,
         2.51901173e+02,   3.08802372e+02,   1.77179987e+02,
        -8.90297528e+01,  -2.27990490e+02,  -1.21244452e+02,
        -1.49563695e+02,  -4.79656729e+02,  -5.27068735e+02,
        -1.35897822e+02,   4.96109489e+01,  -5.53851366e+01,
        -7.14041520e+01,   1.35905956e+02,   3.72311467e+02,
         2.34914110e+02,  -3.43249302e+02,  -9.93804995e+02,
        -7.77931385e+02,   5.65242438e+02,   1.61736242e+03,
         1.43388426e+03,  -1.01664939e+02,  -2.12509712e+03,
        -1.26440480e+03,   3.48366053e+03,   6.36029185e+03,
         2.45869846e+03,  -4.53305125e+03,  -7.00091401e+03,
        -2.20036013e+03,   3.71089363e+03,   2.27376246e+03,
        -3.70913053e+03,  -4.48942678e+03,  -1.07862257e+02,
         2.48741221e+03,   1.77511761e+03,   1.32398734e+03,
         1.52806605e+03,  -1.30408987e+03,  -3.98881999e+03,
         3.65601424e+02,   6.32894883e+03,   4.53283688e+03,
        -1.74388275e+03,  -4.09108639e+03,  -2.46073449e+03,
        -1.42756386e+03,  -5.02210413e+02,   1.40319710e+03,
         1.34927618e+03,  -1.01319110e+02,   2.65992283e+02,
         1.27073746e+03,   8.79275837e+02,  -3.26566623e+02,
        -1.33707077e+03])

a = np.array([[train]])
b = np.array([train])
scaled_train = cdtw_window.dtw_dists(a,b)





a = [ 1.38923045  0.62519979  0.26501374  0.12204171  0.31319119  1.3484494
  1.35067671  0.19331454  0.54888323  0.13575776  0.0564735   0.94943531
  1.26246621  0.13661751  0.40527366  2.29602596  2.18891455  0.49146147
  2.21283327  0.89793203  0.77699181  0.36188661  1.78900608  0.27468039
  3.6206818   3.5230317   0.46308327  0.70565348  0.13651938  1.2971879
  2.06334368  0.4740239   0.32471802  0.69574376  0.80154468  0.35185539
  0.21716833  1.26145673  1.94621894  1.58154901  1.12837848  0.74543474
  0.44922748  2.31746872  2.740758    1.65280243  1.14832927  1.29541907
  0.54065005  0.90081791  0.95025687  0.15698023  0.47427847  0.38431107
  1.06931319  1.61810244  0.56635122  0.11907145  0.57704884  1.02325412
  0.1401471   0.74555809  1.17292394  1.73246954  1.78336453  0.43027242
  1.89913298] 

[  5.74998945e-01   2.11265851e-01   6.79376919e-02   9.28773241e-03
   1.51892010e-01   2.26230158e-02   2.09450992e-01   1.17224649e-01
   2.71245110e-01   6.96331282e-01   8.53623463e-01   4.89779250e-01
   2.46105253e-01   6.30234900e-01   3.35156457e-01   4.13439439e-01
   1.32591675e+00   1.45697792e+00   3.75662818e-01   1.37139717e-01
   1.53101324e-01   1.97382744e-01   3.75685303e-01   1.02918187e+00
   6.49373886e-01   9.48845232e-01   2.74717858e+00   2.15043841e+00
   1.56250162e+00   4.47088052e+00   3.96369120e+00   2.81032743e-01
   5.87441330e+00   3.49519856e+00   9.62989483e+00   1.75817767e+01
   6.79658863e+00   1.25307292e+01   1.93526508e+01   6.08246312e+00
   1.02580361e+01   6.28536941e+00   1.02531623e+01   1.24101380e+01
   2.98164009e-01   6.87596215e+00   4.90696374e+00   3.65990277e+00
   4.22403827e+00   3.60490014e+00   1.10263089e+01   1.01063328e+00
   1.74951351e+01   1.25301367e+01   4.82062111e+00   1.13090042e+01
   6.80221685e+00   3.94621970e+00   1.38826198e+00   3.87886259e+00
   3.72980881e+00   2.80076765e-01   7.35283386e-01   3.51270394e+00
   2.43058523e+00   9.02729245e-01   3.69606934e+00]
